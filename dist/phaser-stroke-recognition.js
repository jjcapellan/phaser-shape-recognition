module.exports=function(){function t(t){this.strokes=new Map,this.scene=t}var e=t.prototype;return e.add=function(t,e,r,i){void 0===i&&(i=10);var n=this.scene,a={name:t,matrix:[],resolution:i},o=function(){for(var t=n.textures.getFrame(e,r),i=t.width,a=t.height,o=[],h=0;h<a;h++)for(var s=0;s<i;s++)n.textures.getPixelAlpha(s,h,e,r)&&o.push({x:s,y:h});return o}(),h=this.generateBounds(o),s=this.generateMatrix(o,h,i);a.matrix=s,this.strokes.set(t,a)},e.checkStroke=function(t,e){var r=this.strokes.get(e);if(!r)return null;var i=this.generateBounds(t),n=this.generateMatrix(t,i,r.resolution),a=0,o=0;return r.matrix.forEach(function(t,e){t.forEach(function(t,r){var i=n[e][r];t&&i?a++:t!==i&&o++})}),{hitsRatio:a/(a+o),hits:a,fails:o,sampleMatrix:n,modelMatrix:r.matrix}},e.generateBounds=function(t){var e={minX:1e5,minY:1e5,maxX:-1e5,maxY:-1e5,width:0,height:0};return t.forEach(function(t){t.x<e.minX?e.minX=t.x:t.x>e.maxX&&(e.maxX=t.x),t.y<e.minY?e.minY=t.y:t.y>e.maxY&&(e.maxY=t.y)}),e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e},e.generateMatrix=function(t,e,r){void 0===r&&(r=10);var i=function(){for(var t=[],e=0;e<r;e++)t.push(new Array(r).fill(!1));return t}(),n=e.width>e.height?Math.floor(e.width/r):Math.floor(e.height/r);return t.forEach(function(t){var r=Math.floor((t.y-e.minY)/n),a=Math.floor((t.x-e.minX)/n);r=Math.min(r,i.length-1),a=Math.min(a,i[0].length-1),i[r][a]=!0}),i},t}();
//# sourceMappingURL=phaser-stroke-recognition.js.map
