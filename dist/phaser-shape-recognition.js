module.exports=function(){function t(t){this.scene=t}var n=t.prototype;return n.generatePoints=function(t,n){for(var i=this.scene.textures.getFrame(t,n),r=i.width,e=i.height,o=[],a=0;a<e;a++)for(var h=0;h<r;h++)this.scene.textures.getPixelAlpha(h,a,t,n)&&o.push({x:h,y:a});return o},n.test=function(t,n,i){if(!t||!n)return null;var r=0,e=0;return t.forEach(function(o,a){o.forEach(function(o,h){var f=n[a][h];if(o&&f)r++;else if(o!==f&&(e++,i)){var u=function(i,r){var e;e=t[i][r]?n:t;for(var o=0,a=-1;a<2;a++)for(var h=-1;h<2;h++){var f=i+a,u=r+h;f>=0&&f<e.length&&u>=0&&u<e[0].length&&(f!=i||u!=r)&&(o+=e[f][u]?1:0)}return o}(a,h);u&&(e--,r+=u/8)}})}),{hitsRatio:r/(r+e),hits:r,fails:e}},n.getBounds=function(t){var n={minX:1e6,minY:1e6,maxX:-1e6,maxY:-1e6,width:0,height:0};return t.forEach(function(t){t.x<n.minX&&(n.minX=t.x),t.y<n.minY&&(n.minY=t.y)}),t.forEach(function(t){t.x>n.maxX&&(n.maxX=t.x),t.y>n.maxY&&(n.maxY=t.y)}),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},n.makeMatrix=function(t,n,i){void 0===i&&(i=10);var r="string"==typeof t?this.generatePoints(t,n):t,e=this.getBounds(r);this.normalizeAspectRatio(r,e);var o=function(){for(var t=[],n=0;n<i;n++)t.push(new Array(i).fill(!1));return t}(),a=e.width>e.height?Math.floor(e.width/i):Math.floor(e.height/i);return r.forEach(function(t){var n=Math.floor((t.y-e.minY)/a),i=Math.floor((t.x-e.minX)/a);n=Math.min(n,o.length-1),i=Math.min(i,o[0].length-1),o[n][i]=!0}),o},n.normalizeAspectRatio=function(t,n){var i=n.width,r=n.height;i/r<1/3||i/r>3||i==r||(t.forEach(i>r?function(t){t.y*=i/r}:function(t){t.x*=r/i}),n=this.getBounds(t))},t}();
//# sourceMappingURL=phaser-shape-recognition.js.map
