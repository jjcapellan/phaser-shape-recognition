!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).StrokeRec=e()}(this,function(){return function(){function t(t){this.strokes=new Map,this.scene=t}var e=t.prototype;return e.add=function(t,e,n,i){void 0===i&&(i=10);var r=this.scene,o={name:t,matrix:[],resolution:i},a=function(){for(var t=r.textures.getFrame(e,n),i=t.width,o=t.height,a=[],h=0;h<o;h++)for(var f=0;f<i;f++)r.textures.getPixelAlpha(f,h,e,n)&&a.push({x:f,y:h});return a}(),h=this.generateBounds(a),f=this.generateMatrix(a,h,i);o.matrix=f,this.strokes.set(t,o)},e.checkStroke=function(t,e){var n=this.strokes.get(e);if(!n)return null;var i=this.generateBounds(t),r=this.generateMatrix(t,i,n.resolution),o=0,a=0;return n.matrix.forEach(function(t,e){t.forEach(function(t,n){var i=r[e][n];t&&i?o++:t!==i&&a++})}),{hitsRatio:o/(o+a),hits:o,fails:a,sampleMatrix:r,modelMatrix:n.matrix}},e.generateBounds=function(t){var e={minX:1e5,minY:1e5,maxX:-1e5,maxY:-1e5,width:0,height:0};return t.forEach(function(t){t.x<e.minX?e.minX=t.x:t.x>e.maxX&&(e.maxX=t.x),t.y<e.minY?e.minY=t.y:t.y>e.maxY&&(e.maxY=t.y)}),e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e},e.generateMatrix=function(t,e,n){void 0===n&&(n=10);var i=function(){for(var t=[],e=0;e<n;e++)t.push(new Array(n).fill(!1));return t}(),r=e.width>e.height?Math.floor(e.width/n):Math.floor(e.height/n);return t.forEach(function(t){var n=Math.floor((t.y-e.minY)/r),o=Math.floor((t.x-e.minX)/r);n=Math.min(n,i.length-1),o=Math.min(o,i[0].length-1),i[n][o]=!0}),i},t}()});
//# sourceMappingURL=phaser-stroke-recognition.umd.js.map
